# Week1_TDD
1주차 과제 TDD로 개발하기
동시성 제어방식에 대한 분석
- 검토/사용해본 동시성 제어 방식
1. Synchronized
특징 : 키워드로 메서드나 특정 블록에 락을 설정해, 한 번에 하나의 쓰레드만 접근 가능하도록 제어.
채택하지 않은 이유 : 여러 쓰레드의 병렬 처리가 불가함

2. Database에서 락을 설정
특징 : DB에서 SQL 명령어로 특정 행 또는 테이블에 락을 설정할 수 있음
채택하지 않은 이유 : 과제에는 DB단의 설정이 간소화되어있기 때문에 (+이것까지 하면 시간이 부족할 것 같기 때문에) 안함.

3. ConcurrentHashMap
특징 : 멀티스레드 환경에서 동시에 여러 스레드가 읽고 쓰기에 안전한 동시성 제어 기능을 제공, 부분 락 설계
한계점 : 이번 과제 제출물에서는 사용자 id 별로 락(5.ReentrantReadWriteLock)을 생성했는데, 이 락이 사용된 후 자동으로 소멸되지 않고 메모리에 쌓이기 때문에 메모리 누수 발생 우려.
생각해볼 수 있는 방법 : 일정한 시간 동안 사용되지 않은 락은 정리하는 방식으로 메모리 관리.

4. ReentrantLock
특징 : 읽기와 쓰기 작업의 구분 없이, 한 번에 하나의 쓰레드만 자원에 접근할 수 있도록 보장
채택하지 않은 이유 : 좀 더 락이 세분화 된 ReentrantReadWriteLock을 사용하기로 함

5. ReentrantReadWriteLock
특징 : 읽기-쓰기 락을 구분해서 동기화한다. 
읽기 락은 여러 쓰레드가 동시에 읽기 작업을 수행할 수 있지만, 쓰기 락은 한 번에 하나의 쓰레드만 쓰기 작업을 수행할 수 있다.
ReentrantLock과의 공통점 : 한 쓰레드가 동일한 락을 여러 번 획득할 수 있으며, 락 획득 횟수만큼 해제해야 함.
한계점 : 락 해제를 명시적으로 호출해야 하므로, 해제 누락이 발생할 수 있음. 포인트 충전/사용이 빈번할 때 조회 작업과 충돌 가능.
역할이 세분화된 만큼 메모리를 더 많이 사용함. 별도의 메모리 관리 방식이 필요함.